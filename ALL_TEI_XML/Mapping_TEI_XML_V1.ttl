@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix oldcan: <https://explorations4u.acdh.oeaw.ac.at/ontology/oldcan#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix lemon: <http://lemon-model.net/lemon#>.
@prefix dboeLex: <http://localhost/lexicon/dboe>
@prefix ontolex: <http://www.w3.org/ns/lemon/ontolex#> .
@prefix owl: <http://www.w3.org/2002/07/owl#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix skos: <http://www.w3.org/2004/02/skos#>.
@prefix dbr: <http://dbpedia.org/resource/>.
@prefix dbo: <http://dbpedia.org/ontology/>.
@prefix void: <http://rdfs.org/ns/void#>.
@prefix lexinfo: <http://www.lexinfo.net/ontology/2.0/lexinfo#>.
@prefix semiotics: <http://www.ontologydesignpatterns.org/cp/owl/semiotics.owl#>.
@prefix oils: <http://lemon-model.net/oils#>.
@prefix dct: <http://purl.org/dc/terms/>.
@prefix provo: <http://www.w3.org/ns/prov#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix doco:<http://purl.org/spar/doco/>.
@prefix schema:<http://schema.org/>.
@prefix fabio:<http://purl.org/spar/fabio/>. 
@prefix prism:<http://prismstandard.org/namespaces/basic/2.0/>. 
@prefix dc: <http://purl.org/dc/elements/1.1/> .





#Lexicon Mapping goes here 

<#LexiconTriplesMap>
a rr:TriplesMap;
rr:logicalTable [ rr:sqlQuery """

Select  'WBOLexiconExample' as lexicon, e.lang 
from entry e 
limit 1;
    """ ];	
	rr:subjectMap [
		rr:template "http://exploreat.adaptcentre.ie/{lexicon}" ;
		rr:class ontolex:Lexicon ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;] ;	

	rr:predicateObjectMap [
		rr:predicate ontolex:language ;
		rr:objectMap [ rr:column "lang" ] ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;];
	
.

<#LexiconEntryTriplesMap>
a rr:TriplesMap;
rr:logicalTable [ rr:sqlQuery """

Select  'WBOLexiconExample' as lexicon, e.entryid  
from entry e limit 20;

    """ ];	
	rr:subjectMap [
		rr:template "http://exploreat.adaptcentre.ie/{lexicon}" ;
		rr:class ontolex:Lexicon ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;] ;	
		
	rr:predicateObjectMap [
		rr:predicate ontolex:entry;
		rr:objectMap [ 
			rr:template "http://exploreat.adaptcentre.ie/LexicalEntry/{entryid}" ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;] ;
		];
.

<#LexicalEntryTriplesMap>
a rr:TriplesMap;
rr:logicalTable [ rr:sqlQuery """

Select  e.id,  e.lang, e.entryid 
from entry e limit 20;
    """ ];	
	rr:subjectMap [
		rr:template "http://exploreat.adaptcentre.ie/LexicalEntry/{entryid}" ;
		rr:class ontolex:LexicalEntry ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;] ;	
.

<#CannonicalFormTriplesMap>
a rr:TriplesMap;
rr:logicalTable [ rr:sqlQuery """

Select  o.orth, o.type as orthType, e.lang ,f.entry_entryId
from entry e 
left  join form f on e.entryid = f.entry_entryId 
inner join orth o on o.Form_FormId= f.formid 
where f.type ='hauptlemma' limit 20;
    """ ];	
	rr:subjectMap [
		rr:template "http://exploreat.adaptcentre.ie/Form/{orth}" ;
		rr:class ontolex:form ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;] ;	
	rr:predicateObjectMap [
		rr:predicate ontolex:writtenRep ;
		rr:objectMap [ rr:column "orth" ;rr:language "bar";] ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;];


	rr:predicateObjectMap [
		rr:predicate ontolex:lexicalForm ;	
		rr:predicate ontolex:cannonicalForm ;	
		rr:objectMap [
			rr:parentTriplesMap <#LexicalEntryTriplesMap> ;
			rr:joinCondition [ 
				rr:child "entry_entryid" ; 
				rr:parent "entryid" ;	
				rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ]]] ;	
.

<#OtherFormTriplesMap>
a rr:TriplesMap;
rr:logicalTable [ rr:sqlQuery """

Select  o.orth, o.type as orthType, e.lang ,f.entry_entryId
from entry e 
left  join form f on e.entryid = f.entry_entryId 
inner join orth o on o.Form_FormId= f.formid 
where f.type ='hauptlemma' limit 20;
    """ ];	
	rr:subjectMap [
		rr:template "http://exploreat.adaptcentre.ie/Form/{orth}" ;
		rr:class ontolex:form ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;] ;	
	rr:predicateObjectMap [
		rr:predicate ontolex:writtenRep ;
		rr:objectMap [ rr:column "orth" ;rr:language "bar";] ;
		rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ;];


	rr:predicateObjectMap [
		rr:predicate ontolex:lexicalForm ;	
		rr:predicate ontolex:cannonicalForm ;	
		rr:objectMap [
			rr:parentTriplesMap <#LexicalEntryTriplesMap> ;
			rr:joinCondition [ 
				rr:child "entry_entryid" ; 
				rr:parent "entryid" ;	
				rr:graph <http://exploreat.adaptcentre.ie/WBOLexicon_graph> ]]] ;	
.
	



